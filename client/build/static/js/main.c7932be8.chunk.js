(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(56)},32:function(e,t,a){},33:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(24),l=a.n(r),c=(a(32),a(25)),i=a(1),s=a(8);a(33);var u=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},o.a.createElement("a",{className:"navbar-brand",href:"https://play.google.com/store/books",rel:"noopener noreferrer",target:"_blank"},"Google Books"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"/Search"},"Search")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"/Saved"},"Saved")))))};var m=function(){return o.a.createElement("div",{className:"jumbotron jumbotron-fluid text-center"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"display-4"},"(React) Google Books Search"),o.a.createElement("p",{className:"lead"},"Search for and Save Books of Interest")))};function v(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card mt-3 mb-3"},o.a.createElement("div",{className:"card-body"},"Book Search",o.a.createElement("input",{className:"form-control form-control-lg mb-2",value:e.enteredText,type:"text",placeholder:"Type in book title",onChange:e.inputText}),o.a.createElement("button",{type:"submit",className:"btn btn-primary float-right",onClick:e.search},"Search"))),o.a.createElement("div",{className:e.visibility},o.a.createElement("div",{className:"card-body"},e.results),o.a.createElement("ul",{className:"list-group list-group-flush"},e.children)))}function d(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"list-group-item",value:e.value},o.a.createElement("h2",null,e.title),o.a.createElement("p",null,e.authors,o.a.createElement("button",{value:e.value,className:"float-right",onClick:e.saveButton},"Save")),o.a.createElement("a",{href:e.link,rel:"noopener noreferrer",target:"_blank"},e.link),o.a.createElement("div",{className:"row mt-3 mb-3"},o.a.createElement("div",{className:"col-md-3"},o.a.createElement("img",{className:"",alt:"book",src:e.image})),o.a.createElement("div",{className:"col-md-9"},o.a.createElement("p",{className:"float-right"},e.description)))))}function f(e){var t=e.fluid,a=e.children;return o.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}var g=a(10),p=a.n(g),E={getBook:function(e){return console.log(e.bookTitle),p.a.get("https://www.googleapis.com/books/v1/volumes?q="+e.bookTitle)},saveBook:function(e){return p.a.post("/api/books",e)},getSavedBooks:function(){return p.a.get("/api/books")},deleteBook:function(e){return p.a.delete("/api/books/"+e)}};var h=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),c=Object(s.a)(l,2),i=c[0],g=c[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),b=h[0],k=h[1];function N(e){e.preventDefault(),console.log(e.target.getAttribute("value"));var t=a[e.target.getAttribute("value")];E.saveBook({title:t.volumeInfo.title,authors:t.volumeInfo.authors.join(", "),description:t.volumeInfo.description,image:t.volumeInfo.imageLinks.thumbnail,link:t.volumeInfo.infoLink})}return Object(n.useEffect)(function(){k("card mt-5 d-none")},[]),o.a.createElement(f,null,o.a.createElement(u,null),o.a.createElement(m,null),o.a.createElement(v,{search:function(e){e.preventDefault(),g(i.trim()),E.getBook({bookTitle:i}).then(function(e){return r(e.data.items)}).then(function(){return k("card mt-5")}).then(function(){return g("")}).catch(function(e){return console.log(e)})},inputText:function(e){var t=e.target.value;g(t)},enteredText:i,results:"Results",visibility:b},a.map(function(e,t){return o.a.createElement(d,{saveButton:N,key:t,value:t,title:e.volumeInfo.title,authors:e.volumeInfo.authors.join(", "),link:e.volumeInfo.infoLink,image:e.volumeInfo.imageLinks.thumbnail,description:e.volumeInfo.description})})))};function b(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card mt-3 mb-3"},o.a.createElement("div",{className:"card-body"},e.results),o.a.createElement("ul",{className:"list-group list-group-flush"},e.children)))}function k(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"list-group-item",value:e.value},o.a.createElement("h2",null,e.title),o.a.createElement("p",null,e.authors),o.a.createElement("button",{value:e.value,className:"float-right",onClick:e.deleteButton},"Delete"),o.a.createElement("a",{href:e.link,rel:"noopener noreferrer",target:"_blank"},"More Info"),o.a.createElement("div",{className:"row mt-3 mb-3"},o.a.createElement("div",{className:"col-md-3"},o.a.createElement("img",{className:"",alt:"book",src:e.image})),o.a.createElement("div",{className:"col-md-9"},o.a.createElement("p",{className:"float-right"},e.description)))))}var N=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1];function l(){E.getSavedBooks().then(function(e){return r(e.data)}).catch(function(e){return console.log(e)})}function c(e){e.preventDefault(),console.log(e.target.getAttribute("value")),E.deleteBook(e.target.getAttribute("value")).then(function(e){return l()})}return Object(n.useEffect)(function(){l()},[]),o.a.createElement(f,null,o.a.createElement(u,null),o.a.createElement(m,null),o.a.createElement(b,{results:"Saved Books"},a.map(function(e){return o.a.createElement(k,{deleteButton:c,key:e._id,value:e._id,title:e.title,authors:e.authors,link:e.link,image:e.image,description:e.description})})))};var w=function(){return o.a.createElement(c.a,null,o.a.createElement(i.a,{exact:!0,path:"/",component:h}),o.a.createElement(i.a,{exact:!0,path:"/search",component:h}),o.a.createElement(i.a,{exact:!0,path:"/saved",component:N}))},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(w,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");B?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):y(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):y(e)})}}()}},[[27,1,2]]]);
//# sourceMappingURL=main.c7932be8.chunk.js.map