(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(56)},32:function(e,t,a){},33:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(24),r=a.n(o),c=(a(32),a(25)),i=a(1),s=a(9);a(33);var u=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"/Search"},"Google Books"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/Search"},"Search")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/Saved"},"Saved")))))};var m=function(){return l.a.createElement("div",{className:"jumbotron jumbotron-fluid text-center"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-4"},"(React) Google Books Search"),l.a.createElement("p",{className:"lead"},"Search for and Save Books of Interest")))};function v(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card mt-3 mb-3"},l.a.createElement("div",{className:"card-body"},"Book Search",l.a.createElement("input",{className:"form-control form-control-lg mb-2",value:e.enteredText,type:"text",placeholder:"book title",onChange:e.inputText}),l.a.createElement("button",{type:"submit",className:"btn btn-primary float-right",onClick:e.search},"Search"))),l.a.createElement("div",{className:"card mt-5"},l.a.createElement("div",{className:"card-body"},e.results),l.a.createElement("ul",{className:"list-group list-group-flush"},e.children)))}function d(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item",value:e.value},l.a.createElement("h2",null,e.title),l.a.createElement("p",null,e.authors,l.a.createElement("button",{value:e.value,className:"float-right",onClick:e.saveButton},"Save")),l.a.createElement("a",{href:e.link},e.link),l.a.createElement("div",{className:"row mt-3 mb-3"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("img",{className:"",alt:"book",src:e.image})),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("p",{className:"float-right"},e.description)))))}function f(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}var g=a(10),E=a.n(g),h={getBook:function(e){return console.log(e.bookTitle),E.a.get("https://www.googleapis.com/books/v1/volumes?q="+e.bookTitle)},saveBook:function(e){return E.a.post("/api/books",e)},getSavedBooks:function(){return E.a.get("/api/books")},deleteBook:function(e){return E.a.delete("/api/books/"+e)}};var p=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),c=Object(s.a)(r,2),i=c[0],g=c[1];function E(e){e.preventDefault(),console.log(e.target.getAttribute("value"));var t=a[e.target.getAttribute("value")];h.saveBook({title:t.volumeInfo.title,authors:t.volumeInfo.authors[0],description:t.volumeInfo.description,image:t.volumeInfo.imageLinks.thumbnail,link:t.volumeInfo.infoLink})}return l.a.createElement(f,null,l.a.createElement(u,null),l.a.createElement(m,null),l.a.createElement(v,{search:function(e){e.preventDefault(),h.getBook({bookTitle:i}).then(function(e){return o(e.data.items)}).then(function(){return g("")}).catch(function(e){return console.log(e)})},inputText:function(e){var t=e.target.value;g(t.trim())},enteredText:i,results:"Results"},a.map(function(e,t){return l.a.createElement(d,{saveButton:E,key:t,value:t,title:e.volumeInfo.title,authors:e.volumeInfo.authors,link:e.volumeInfo.infoLink,image:e.volumeInfo.imageLinks.thumbnail,description:e.volumeInfo.description})})))};function b(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card mt-3 mb-3"},l.a.createElement("div",{className:"card-body"},e.results),l.a.createElement("ul",{className:"list-group list-group-flush"},e.children)))}function k(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item",value:e.value},l.a.createElement("h2",null,e.title),l.a.createElement("p",null,e.authors),l.a.createElement("button",{value:e.value,className:"float-right",onClick:e.deleteButton},"Delete"),l.a.createElement("a",{href:e.link},"More Info"),l.a.createElement("div",{className:"row mt-3 mb-3"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("img",{className:"",alt:"book",src:e.image})),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("p",{className:"float-right"},e.description)))))}var N=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1];function r(){h.getSavedBooks().then(function(e){return o(e.data)}).catch(function(e){return console.log(e)})}function c(e){e.preventDefault(),console.log(e.target.getAttribute("value")),h.deleteBook(e.target.getAttribute("value")).then(function(e){return r()})}return Object(n.useEffect)(function(){r()},[]),l.a.createElement(f,null,l.a.createElement(u,null),l.a.createElement(m,null),l.a.createElement(b,{results:"Saved Books"},a.map(function(e){return l.a.createElement(k,{deleteButton:c,key:e._id,value:e._id,title:e.title,authors:e.authors,link:e.link,image:e.image,description:e.description})})))};var w=function(){return l.a.createElement(c.a,null,l.a.createElement(i.a,{exact:!0,path:"/",component:p}),l.a.createElement(i.a,{exact:!0,path:"/search",component:p}),l.a.createElement(i.a,{exact:!0,path:"/saved",component:N}))},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(l.a.createElement(w,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");B?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):S(e)})}}()}},[[27,1,2]]]);
//# sourceMappingURL=main.7f94b074.chunk.js.map